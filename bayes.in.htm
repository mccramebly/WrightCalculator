<!DOCTYPE html>
<html>
<head>
    <title>Bayes Theorem</title>
    <meta charset="utf-8">
    <link REL="SHORTCUT ICON" HREF="favicon.ico">
    <link rel="stylesheet" href="assets/styles.css">
</head>
<body onLoad="self.focus();document.ss.venn2.focus();" >
    <script src="myfunctions.js"></script>
    <form name='ss'>
        <h1>Bayes Theorem</h1>

        <p>Event A:<input type='text' name='venn2' size=12 tabindex="1" value="A" /></p>
        <p>Event B:<input type='text' name='venn1' size=12 tabindex="2" value="B" /></p>
        <p>P(B):   <input type='text' name='cell' size=5 value=" " tabindex="3"></p>
        <p>P(A|B): <input type='text' name='cell' size=5 value=" " tabindex="4"></p>
        <p>P(A|~B):<input type='text' name='cell' size=5 value=" " tabindex="5"></p>
        <center>
        <p>P(B)*P(A|B)</p>
        <p>P(B|A) =  -----------------------------</p>
        <p>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp;P(B)*P(A|B) + P(~B)*P(A|~B)</p>
            </center>
        <p>P(B|A) =<input type='text' name='answer' size=15 value=" " onfocus='calc()' tabindex="-1"></p>
        <p>
            <input name="calcbut" type="button" value = "Calculate" onClick="calc()" tabindex="6">
            <input type="button" value="a/b" id="frac" onClick="swfrac(true)" title="output format" tabindex="7">
            <input name="showbut" type="button" value = "Show Venn" onClick="show()" tabindex="8">
            <input id='clearallid' name="clear" type="button" value = "Clear ALL" onClick="window.open('bayes.in.htm','_self')" tabindex="9">
            <input name="demobut" type="button" value = "DEMO" onClick="demo()" tabindex="10">
        </p>
</form>
<script>
frac=3; clearcount=0
CU=String.fromCharCode(8746) // cup = union
CA=String.fromCharCode(8745) // cap = intersection
// --------------------------
function demo(){
if (document.ss.venn2.value=="Accident" && document.ss.venn1.value=="Error")
{document.ss.venn2.value="On Time"
 document.ss.venn1.value="Catch early bus"
 document.ss.cell[0].value=".30"
 document.ss.cell[1].value=".90"
 document.ss.cell[2].value=".40"}
else
{document.ss.venn2.value="Accident"
 document.ss.venn1.value="Error"
 document.ss.cell[0].value="0.1"
 document.ss.cell[1].value="0.3"
 document.ss.cell[2].value="0.2"}
calc()}
// -------------------------
function validate(xx1) { with(Math) {
xx = (''+xx1).replace('%','/100')
try {n= eval(cleanx(xx))} catch (err) { n="NO" }
if (typeof n == 'number' && !isNaN(n - n)) return n
return ' '}}
// -------------------------
function calc(xx1) { with(Math) {
if (frac>4){frac=1;swfrac()}
pb = validate(document.ss.cell[0].value)
pnb = my(1-pb,0)
pab = validate(document.ss.cell[1].value)
panb = validate(document.ss.cell[2].value)
papb=my(pb*pab,0)
pnapb=my(pb-papb,0)
papnb=my(pnb*panb,0)
pnapnb=my(pnb-papnb,0)
document.ss.answer.value = my((pb*pab)/(pb*pab+(1-pb)*panb))
}}
// -------------------------
function show(){ with(Math) {
calc()
callthis='bayes.htm?'+document.ss.venn2.value+'&'+document.ss.venn1.value+'&'+papb+'&'+papnb+'&'+pnapb+'&'+pnapnb
window.open(callthis)
}}
// --------------------------
</script>
</body>
</html>
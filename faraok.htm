<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="utf-8">
    <title>Fáraók Kincses</title>
    <script>
var code
var rows4
var rows5
var rows6
rowsx= "xx   xx,xx   xx,xx,xx   xx,xx,xx,xx   xx,xx,xx,xx,xx   xx,xx,xx,xx,xx,xx"
function cla(){code="";rows4="";rows5="";rows6=""
 document.theForm.coded.value=code
 document.theForm.rows4d.value=rows4; document.theForm.rows4x.value=""
 document.theForm.rows5d.value=rows5; document.theForm.rows5x.value=""
 document.theForm.rows6d.value=rows6; document.theForm.rows6x.value=""
}
function test(){
  code="78664618671283579582805376616903543101871511";
  rows4="69838801435718344970";
  rows5="731315032461344687904453545797";
  rows6="740436081885293153821134667880031267767995"
 document.theForm.coded.value=code
 document.theForm.rows4d.value=rows4; document.theForm.rows4x.value=""
 document.theForm.rows5d.value=rows5; document.theForm.rows5x.value=""
 document.theForm.rows6d.value=rows6; document.theForm.rows6x.value=""
}
function load(){
 code=document.theForm.coded.value
 rows4=document.theForm.rows4d.value
 rows5=document.theForm.rows5d.value
 rows6=document.theForm.rows6d.value
 document.theForm.coded.value=clean(code)
 document.theForm.rows4d.value=split(clean(rows4)); document.theForm.rows4x.value=rowsx.slice(0,36)
 document.theForm.rows5d.value=split(clean(rows5)); document.theForm.rows5x.value=rowsx.slice(0,54)
 document.theForm.rows6d.value=split(clean(rows6)); document.theForm.rows6x.value=rowsx
}
function clean(dvar){
 let x=dvar.replace(/\D/g,'')
 let y=''
 for (let i=0;i<x.length;i+=2) y+=(y.length>0?',':'')+x.slice(i,i+2)
 return y
}
function put(x,y){ return x.slice(0,y)+"'"+x.slice(y+1)
}
function split(dvar){
 j=2;
 for (i=2;i<9;i++){
   if (j>dvar.length) return dvar.replace(/'/g,'   ')
   dvar=put(dvar,j)
   j=j+3*i
 }
}
function calc(){
load()
 code=document.theForm.coded.value
 row4d=document.theForm.rows4d.value
 row5d=document.theForm.rows5d.value
 row6d=document.theForm.rows6d.value
 row4x=document.theForm.rows4x.value
 row5x=document.theForm.rows5x.value
 row6x=document.theForm.rows6x.value
 
for (i=0;i<code.length;i=i+3)
{ xx=code.slice(i,i+2)
  
  yy=0; do { y=row4d.slice(yy).search(xx);
    if (y>-1){ y=y+yy; row4x = row4x.slice(0,y)+xx+row4x.slice(y+2);yy=y+2
             } }while (y>-1)
  document.theForm.rows4x.value=row4x}
 
for (i=0;i<code.length;i=i+3)
{ xx=code.slice(i,i+2)
  
  yy=0; do { y=row5d.slice(yy).search(xx);
    if (y>-1){ y=y+yy; row5x = row5x.slice(0,y)+xx+row5x.slice(y+2);yy=y+2
             } }while (y>-1)
  document.theForm.rows5x.value=row5x}
 
for (i=0;i<code.length;i=i+3)
{ xx=code.slice(i,i+2)
  
  yy=0; do { y=row6d.slice(yy).search(xx);
    if (y>-1){ y=y+yy; row6x = row6x.slice(0,y)+xx+row6x.slice(y+2);yy=y+2
             } }while (y>-1)
  document.theForm.rows6x.value=row6x}
}
</script>
    <link rel="stylesheet" href="assets/styles.css">
</head>
<body onload="self.focus();window.resizeTo( 800, 800 );">
    <h1><a href="index2.htm">Fáraók Kincse</a></h1>
    <form name="theForm">
        <p>
            <input type="button" name="claf" value= "Clear input" onClick="cla()">
            <input type="button" name="sclearb" value= "find matches" onClick="calc()">
            <input type="button" name="testf" value= "load test data" onClick="test()">
        </p>
        <p>
            <label for="coded">az ön számai</label>
            <input type="text"  id="coded" name="coded" size=100 value="" >
        </p>
        <p>
            <label for="rows4d">négy sor</label> 
            <input type="text"  id="rows4d" name= "rows4d" size=100 value="" >
        </p>
        <p>
            <label for="rows4x">találat</label>
            <input type="text" id="rows4x" name="rows4x" size=100 value="" >
        </p>
        <p>
            <label for="rows5d"> öt sor</label>
            <input type="text" id="rows5d" name="rows5d" size=100 value="" >
        </p>
        <p>
            <label for="rows5x">találat</label>
            <input type="text" id="rows5x" name="rows5x" size=100 value="" >
        </p>
        <p>
            <label for="rows6d">hat sor</label>
            <input type="text" id="rows6d" name="rows6d" size=100 value="" >
        </p>
        <p>
            <label for="rows6x">találat</label>
            <input type="text" id="rows6x" name="rows6x" size=100 value="" >
        </p>
    </form>
</body>
</html>